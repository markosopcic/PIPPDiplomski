var viewer = null;
var users = null;
var labels = null;
var artifacts = null;
var connection = null;
var trackedUser = null;
var canceledLoading = false;
$(document).ready(function () {

    artifacts = [];
    users = {};
    labels = {};
    Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJiODg4MzNhYi00NGIyLTQ4NTctODljOC1kNTZjY2FkMWY0YjEiLCJpZCI6MTAxMjcsInNjb3BlcyI6WyJhc2wiLCJhc3IiLCJhc3ciLCJnYyJdLCJpYXQiOjE1NTk2NjMyMTZ9.-XK9KKFK9zYS9FiwpptglIjGNV9cXlR28LDcixQJG8k';
    viewer = new Cesium.Viewer("cesiumContainer", {
        terrainProvider: Cesium.createWorldTerrain(),
        infoBox: false,
        selectionIndicator: false,
        shadows: true,
        timeline:false,
        shouldAnimate: true
    });
    $(viewer._animation.container).css('visibility', 'hidden');
    $(".cesium-viewer-toolbar").css("visibility", "hidden");
    viewer.forceResize();
    initArtifacts();

    connection = new signalR.HubConnectionBuilder().withUrl("/cesium").build();

    connection.on("ArtifactSet", function (id, longitude, latitude) {
        artifacts[id] = viewer.entities.add({
            position: Cesium.Cartesian3.fromDegrees(longitude, latitude),
            billboard: {
                scale: 0.8,
                width: 100,
                minimumPixelSize: 64,
                verticalOrigin: Cesium.VerticalOrigin.CENTER,
                disableDepthTestDistance: 100000000,
                heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,
                height: 25,
                image: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkQAAAImCAYAAACy3JULAAAACXBIWXMAAAsSAAALEgHS3X78AAAVNklEQVR42u3WsZHCQBREQZlrEtelJPdSIQSloxQwZe5dABhYGolpql4CC3/oZc65SJIkNecRJEkSEHkESZIERB5BkiQBkUeQJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSWtrWMRvz3UtAJElA5LuXgEiSgMh3LwGRJAGR718CIkkCIklAJElAJAmIJAmIJAGRJAGRJCCSJCCSBESSBESSgEiSgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEmqQsmxdwZjEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCSpCkRzdgZEEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCRBSeIPMvhpRVHuA2MSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEKkeBsmOPdecv8FaQZR78+RvrfW+bbuASEAEREAEREBk2wVEAiIgAiIgAiLbLiASEAEREAERENl3AZGACIiACIiASAIiAREQAREQAZEERAIiIAIiIAIiCYgEREAEREAERBIQCYiACIiACIgkIBIQAREQAREQSUAkIAIiIAIiIJKASEAEREAEREAkAZGACIiACIiASPIIAiIgAiIgAiIBkUcQEAEREAEREAmIPIKACIiACIiASEDkEQREQAREQAREAiIJiIAIiIAIiAREEhABERABERAJiCQgAiIgAiIgEhBJQAREQAREQCQgkoAIiIAIiIBIQCQBERABERABkYBIAiIgAiIgAiIBkQREQAREQAREAiIJiIAIiIAIiAREEhABERABERAJiCQgAiIgAiIgEhBJQAREQAREQCQgkoAIiIAIiIBIQCQBERABERABkYDoBq0/y0zVOxzJP+fkB0r0/RhrvbHWPU/+hwIREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIBIQAREQAREQAZGxBiIBERABERABERAZayASEAEREAEREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIBIQAREQAREQAZGxBiIBERABERABERAZayASEAEREAEREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIBIQAREQAREQAZGxBiIBERABERABERAZayASEAEREAEREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIBIQAREQAREQAZGxBiIBERABERABERAZayASEAEREAEREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIJIbAyIgAiIgAiJjDURyY0AEREAEREBkrIFIbgyIgAiIbgWiYx+x/DmfX/L7Xv7PM1Xr95188+y2QOjZJb9vIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiININMLatI1brWAMREAHR995YclOhBIiACIiMNRABERABERABERABkbEGIiACIiACIiACIiAy1kAEREAEREAEREAERMYaiIAIiIAIiIAIiIDIWAMREAEREAEREAEREBlrIAIiIAIiIAIiIAIiYw1EQAREQAREQAREQGSsgQiIgAiIgAiIgAiIjDUQAREQAREQAREQAZGxBiIgAiIgAiIgAiIgMtZABERABERABERABETGGoiACIiACIiACIiAyFgDERABERABERABERAZayACIiACIiACIiACImMNREAEREAEREAEREBkrIEIiIAIiIAIiIAIiIw1EAEREAEREAEREAGRsQYiIAIiIAIiIAIiIDLWQAREbgyIgAiIgAiIjDUQAZEbAyIgAiIgAiJjDURA5MaACIiACIiAyFgDERC5MSACIiACIiAy1kAERG4MiIAIiIAIiIw1EAGRGwMiIAIiIAIiYw1EQOTGgAiIgAiIgMhYAxEQuTEgAiIgAiIgMtZABERuDIiACIiACIiMNRABkRsDIiACIiACImMNREDkxoAIiIAIiIDIWAMRELkxIAIiIBKMval1rLOD2Qmi5Ju3gghKBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJBir/6N4PR+xWkHU+ua98LftAiIBERABkTcHIvsuIBIQAREQeXMgkoBIQAREQOTNgUgCIgEREAGRNwciCYgEREAERN4ciCQgEhABERB5cyCSgEhABERA5M2BSAIiAREQAZE3ByIJiAREQAREQAREEhAJiIAIiIAIiCSPICACIiACIiASEHkEAREQAREQAZGAyCMIiIAIiIAIiAREHkFABERABERAJCCSgAiIgAiIgEhAJAEREAEREAGRgEgCIiACIiACIgGRBERABERABEQCIgmIgAiIgAiIBEQSEAEREAEREAmIJCACIiACIiASEElABERABERAJCCSgAiIgAiIgEhAJAEREAEREAGRgEgCIiACIiACIgGRBERABERABEQCIgmIgAiIgAiIBEQSEAEREAEREAmIJCACIiACIiASEElABERABERAJCCSgOgCIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERFByets6YvmTUkOtv/PktsCYgAiIgAiIBERABEQCIiACIiASEAEREAmIgAiIgEhABERAJCACIiACIgEREAGRgAiIgAiIBERABEQCIiACIiASEAEREAmIgAiIgEhABERAJCACIiACIgEREAGRgAiIgAiIBERABEQCIiACIiASEAEREAmIgAiIgEhABERAJCACIiACIgEREAGRPAIQAREQCYiACIiAyCMAERABkYAIiIAIiDwCEAEREAmIgAiIgMgjABEQAZGACIiACIgEREAERAIiIAIiIBIQAREQCYiACIiASEAEREAkIAIiIAIiAREQAZGACIiACIgEREAERAIiIAIiIBIQAREQCYiACIiASEAEREAkIAIiIAIiAREQAZGACIiACIgEREAERAIiIAIiIBIQAREQCYiACIiASEAEREAkIAIiIAIiAREQAZGACIiACIgEREAERAIiIAIiIBIQAREQCYiACIiASED0ptfzEasVJck3T/7WWn/nrRhr/Z37TwMiAREQAREQAREQ+U8DIgEREAEREAEREPlPAyIBERABERABERD5XwMiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASJcFUSsMtnXEMtZdN5b8rbVC0I0JiIw1EAGRsQYiIHJjAiJjDURAZKyBCIjcmIDIWAMREBlrIAIiNyYgMtZABETGGoiAyI0JiIw1EAGRsQYiIHJjAiJjDURAZKyBCIjcmIDIWAMREBlrIAIiNyYgMtZABETGGoiAyI0JiIw1EAGRsQYiIHJjAiJjDURAZKyBCIjcmIDIWAMREBlrIAIiNyYgMtZABETGGoiAyI3JIxhrIAIiYw1EQOTGgMgjGGsgAiJjDURA5MaAyCMYayACImMNREDkxoDIIxhrIAIiYw1EQOTGgEjGGoiAyFgDERC5MSCSsQYiIDLWQAREbgyIZKyBCIiMNRABkRsDIhlrIAIiYw1EQOTGgEjGGoiACIiACIjcGBDJWAMREAEREAGRGwMiGWsgAiIgAiIgcmNAJGMNREAEREAERG4MiGSsgQiIgAiIgMiNAZGMNRABERABERC5MSCSsQYiIAIiIAIiNwZEMtZABERABERA5MaASMYaiIAIiIAIiNwYEMlYAxEQuTEgAiI3BkQy1rpEfvPuW+5bQCSDaTD95t233LeASAbTYPrNu2+5bwGRDKbB9Lt333LfAiIZTIMp9y33LSCSwTSYct9y3wIiGUyDKfct9y0gksE0mHLfct8CIhlMgyn3LfctIJLBNJhy33LfAiIZTIMp9y33LSCSwTSYct9y3wIiGUyDKfct9y0gksE0mHLfct8CIhlMgyn3LfctIJLBNJhy33LfAiIZTIMp9y33LSCSwTSYct9y3wIiGUyDKfct9y0gksE0mHLfct8CIhkRgyn3LfctIDKYRsRgyn3LfQuIDKYRMZhy33LfAiKDaUgMpty33LeAyGDKYMp9y30LiAymDKbct9y3gMhgymDKfct9C4gMpgym3Lfct4DIYMpgyn3LfQuIDKYMpty33LeAyGDKYMp9y30LiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkj7oD11AAUFMSoNcAAAAAElFTkSuQmCC'
            }
        });

    });

    connection.on("ArtifactWon", function (id) {
        viewer.entities.remove(artifacts[id]);
        artifacts[id] = null;
    }
    );


    connection.on("NewActiveUser", function (name) {
        connection.invoke("AddNewFollowing", name);
    });
    connection.on("InactiveUser", function (name) {
        var option = $("#active-users > div[value=" + name + "]");
        if (option.length === 0) return;
        option = option[0];
        option.parentNode.removeChild(option);
        if (users[name] !== undefined) {
            viewer.entities.remove(users[name]);
            users[name] = null;
        }
    });
    connection.on("Position", function (name, longitude, latitude) {
        if (users[name] === undefined || users[name] === null) {
            try {
                var entity = viewer.entities.add({
                    position: Cesium.Cartesian3.fromDegrees(latitude, longitude),
                    model: {
                        uri: "/js/Cesium_Man.js",
                        minimumPixelSize: 64,
                        maximumScale: 20000

                    }

                });
                var promise = Cesium.sampleTerrainMostDetailed(viewer.terrainProvider, [Cesium.Cartographic.fromDegrees(latitude, longitude)]);
                Cesium.when(promise, function (position) {
                    position = position[0];
                    entity.position = Cesium.Cartesian3.fromDegrees(latitude, longitude, position.height);

                });
                var lab = {
                    text: name,
                    font: '18px Times New Roman',
                    fillColor: Cesium.Color.SKYBLUE,
                    outlineColor: Cesium.Color.BLACK,
                    outlineWidth: 2,
                    style: Cesium.LabelStyle.FILL_AND_OUTLINE,
                    verticalOrigin: Cesium.VerticalOrigin.CENTER,
                    disableDepthTestDistance: Number.POSITIVE_INFINITY,
                    scale: 0.8
                };
                entity.label = new Cesium.LabelGraphics(lab);
                users[name] = entity;
            } catch (err) {
                console.log(err);
            }
        } else {
            promise = Cesium.sampleTerrainMostDetailed(viewer.terrainProvider, [Cesium.Cartographic.fromDegrees(latitude, longitude)]);
            Cesium.when(promise, function (position) {
                var model = users[name];
                position = position[0];
                model.position = Cesium.Cartesian3.fromDegrees(latitude, longitude, position.height);
            });
        }

    });

    connection.onclose(function () {
        setTimeout(function () {
            connection.reconnect();
        }, 5000);
    });

    connection.start().then(function () {
        $.ajax({
            url: "/ActiveUsers",
            method: "GET",
            success: function (result) {
                for (var i = 0; i < result.length; i++) {
                    const name = result[i];
                    connection.invoke("AddNewFollowing", name);
                }
            }
        });
    });




});

function setTrackedUser(user){
    if (trackedUser === null && users[user]!== undefined) {
        trackedUser = user;
        users[user].viewFrom = new Cesium.Cartesian3(-90, 0, 70);
        viewer.flyTo(users[user]).then(e => { viewer.trackedEntity = users[user]; });
        return true;
    }
    return false;
}

function initArtifacts() {
    $.ajax({
        url: "/Artifact/GetActiveArtifacts",
        success: function (result) {
            for (let i = 0; i < result.length; i++) {
                artifacts[result[i].id] = viewer.entities.add({
                    position: Cesium.Cartesian3.fromDegrees(result[i].longitude, result[i].latitude),
                    billboard: {
                        scale: 0.8,
                        width: 100,
                        minimumPixelSize: 64,
                        verticalOrigin: Cesium.VerticalOrigin.CENTER,
                        disableDepthTestDistance: 100000000,
                        heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,
                        height: 25,
                        image: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkQAAAImCAYAAACy3JULAAAACXBIWXMAAAsSAAALEgHS3X78AAAVNklEQVR42u3WsZHCQBREQZlrEtelJPdSIQSloxQwZe5dABhYGolpql4CC3/oZc65SJIkNecRJEkSEHkESZIERB5BkiQBkUeQJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSJElAJEmSBESSWtrWMRvz3UtAJElA5LuXgEiSgMh3LwGRJAGR718CIkkCIklAJElAJAmIJAmIJAGRJAGRJCCSJCCSBESSBESSgEiSgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEkCIiCSBESSgAiIJAGRJCACIklAJAmIgEgSEEmqQsmxdwZjEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCSpCkRzdgZEEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCQJiIAIiCQgkgREQAREEhBJAiIgAiIJiCQBERABkQREkoAIiIBIAiJJQAREQCQBkSQgAiIgkoBIEhABERBJQCRBSeIPMvhpRVHuA2MSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEElABERABEQSEKkeBsmOPdecv8FaQZR78+RvrfW+bbuASEAEREAEREBk2wVEAiIgAiIgAiLbLiASEAEREAERENl3AZGACIiACIiASAIiAREQAREQAZEERAIiIAIiIAIiCYgEREAEREAERBIQCYiACIiACIgkIBIQAREQAREQSUAkIAIiIAIiIJKASEAEREAEREAkAZGACIiACIiASPIIAiIgAiIgAiIBkUcQEAEREAEREAmIPIKACIiACIiASEDkEQREQAREQAREAiIJiIAIiIAIiAREEhABERABERAJiCQgAiIgAiIgEhBJQAREQAREQCQgkoAIiIAIiIBIQCQBERABERABkYBIAiIgAiIgAiIBkQREQAREQAREAiIJiIAIiIAIiAREEhABERABERAJiCQgAiIgAiIgEhBJQAREQAREQCQgkoAIiIAIiIBIQCQBERABERABkYDoBq0/y0zVOxzJP+fkB0r0/RhrvbHWPU/+hwIREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIBIQAREQAREQAZGxBiIBERABERABERAZayASEAEREAEREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIBIQAREQAREQAZGxBiIBERABERABERAZayASEAEREAEREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIBIQAREQAREQAZGxBiIBERABERABERAZayASEAEREAEREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIBIQAREQAREQAZGxBiIBERABERABERAZayASEAEREAEREAGRsQYiAREQAREQAREQGWsgEhABERABERABkbEGIgEREAEREAEREBlrIJIbAyIgAiIgAiJjDURyY0AEREAEREBkrIFIbgyIgAiIbgWiYx+x/DmfX/L7Xv7PM1Xr95188+y2QOjZJb9vIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiININMLatI1brWAMREAHR995YclOhBIiACIiMNRABERABERABERABkbEGIiACIiACIiACIiAy1kAEREAEREAEREAERMYaiIAIiIAIiIAIiIDIWAMREAEREAEREAEREBlrIAIiIAIiIAIiIAIiYw1EQAREQAREQAREQGSsgQiIgAiIgAiIgAiIjDUQAREQAREQAREQAZGxBiIgAiIgAiIgAiIgMtZABERABERABERABETGGoiACIiACIiACIiAyFgDERABERABERABERAZayACIiACIiACIiACImMNREAEREAEREAEREBkrIEIiIAIiIAIiIAIiIw1EAEREAEREAEREAGRsQYiIAIiIAIiIAIiIDLWQAREbgyIgAiIgAiIjDUQAZEbAyIgAiIgAiJjDURA5MaACIiACIiAyFgDERC5MSACIiACIiAy1kAERG4MiIAIiIAIiIw1EAGRGwMiIAIiIAIiYw1EQOTGgAiIgAiIgMhYAxEQuTEgAiIgAiIgMtZABERuDIiACIiACIiMNRABkRsDIiACIiACImMNREDkxoAIiIAIiIDIWAMRELkxIAIiIBKMval1rLOD2Qmi5Ju3gghKBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJCACIiACIiACIgGRgAiIgAiIgAiIBEQCIiACIiACIiASEAmIgAiIgAiIgEhAJBir/6N4PR+xWkHU+ua98LftAiIBERABkTcHIvsuIBIQAREQeXMgkoBIQAREQOTNgUgCIgEREAGRNwciCYgEREAERN4ciCQgEhABERB5cyCSgEhABERA5M2BSAIiAREQAZE3ByIJiAREQAREQAREEhAJiIAIiIAIiCSPICACIiACIiASEHkEAREQAREQAZGAyCMIiIAIiIAIiAREHkFABERABERAJCCSgAiIgAiIgEhAJAEREAEREAGRgEgCIiACIiACIgGRBERABERABEQCIgmIgAiIgAiIBEQSEAEREAEREAmIJCACIiACIiASEElABERABERAJCCSgAiIgAiIgEhAJAEREAEREAGRgEgCIiACIiACIgGRBERABERABEQCIgmIgAiIgAiIBEQSEAEREAEREAmIJCACIiACIiASEElABERABERAJCCSgOgCIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERAIiIJKACIgERFByets6YvmTUkOtv/PktsCYgAiIgAiIBERABEQCIiACIiASEAEREAmIgAiIgEhABERAJCACIiACIgEREAGRgAiIgAiIBERABEQCIiACIiASEAEREAmIgAiIgEhABERAJCACIiACIgEREAGRgAiIgAiIBERABEQCIiACIiASEAEREAmIgAiIgEhABERAJCACIiACIgEREAGRPAIQAREQCYiACIiAyCMAERABkYAIiIAIiDwCEAEREAmIgAiIgMgjABEQAZGACIiACIgEREAERAIiIAIiIBIQAREQCYiACIiASEAEREAkIAIiIAIiAREQAZGACIiACIgEREAERAIiIAIiIBIQAREQCYiACIiASEAEREAkIAIiIAIiAREQAZGACIiACIgEREAERAIiIAIiIBIQAREQCYiACIiASEAEREAkIAIiIAIiAREQAZGACIiACIgEREAERAIiIAIiIBIQAREQCYiACIiASED0ptfzEasVJck3T/7WWn/nrRhr/Z37TwMiAREQAREQAREQ+U8DIgEREAEREAEREPlPAyIBERABERABERD5XwMiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASEAEREAEREAERAIiAREQAREQAREQCYgEREAEREAEREAkIBIQAREQAREQAZGASJcFUSsMtnXEMtZdN5b8rbVC0I0JiIw1EAGRsQYiIHJjAiJjDURAZKyBCIjcmIDIWAMREBlrIAIiNyYgMtZABETGGoiAyI0JiIw1EAGRsQYiIHJjAiJjDURAZKyBCIjcmIDIWAMREBlrIAIiNyYgMtZABETGGoiAyI0JiIw1EAGRsQYiIHJjAiJjDURAZKyBCIjcmIDIWAMREBlrIAIiNyYgMtZABETGGoiAyI3JIxhrIAIiYw1EQOTGgMgjGGsgAiJjDURA5MaAyCMYayACImMNREDkxoDIIxhrIAIiYw1EQOTGgEjGGoiAyFgDERC5MSCSsQYiIDLWQAREbgyIZKyBCIiMNRABkRsDIhlrIAIiYw1EQOTGgEjGGoiACIiACIjcGBDJWAMREAEREAGRGwMiGWsgAiIgAiIgcmNAJGMNREAEREAERG4MiGSsgQiIgAiIgMiNAZGMNRABERABERC5MSCSsQYiIAIiIAIiNwZEMtZABERABERA5MaASMYaiIAIiIAIiNwYEMlYAxEQuTEgAiI3BkQy1rpEfvPuW+5bQCSDaTD95t233LeASAbTYPrNu2+5bwGRDKbB9Lt333LfAiIZTIMp9y33LSCSwTSYct9y3wIiGUyDKfct9y0gksE0mHLfct8CIhlMgyn3LfctIJLBNJhy33LfAiIZTIMp9y33LSCSwTSYct9y3wIiGUyDKfct9y0gksE0mHLfct8CIhlMgyn3LfctIJLBNJhy33LfAiIZTIMp9y33LSCSwTSYct9y3wIiGUyDKfct9y0gksE0mHLfct8CIhkRgyn3LfctIDKYRsRgyn3LfQuIDKYRMZhy33LfAiKDaUgMpty33LeAyGDKYMp9y30LiAymDKbct9y3gMhgymDKfct9C4gMpgym3Lfct4DIYMpgyn3LfQuIDKYMpty33LeAyGDKYMp9y30LiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkoBIkiQJiCRJkj7oD11AAUFMSoNcAAAAAElFTkSuQmCC'
                    }
                });
            }
        }, error: function (error) {
            console.log(error);
        }
    });
}

